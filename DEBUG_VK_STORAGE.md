# –û—Ç–ª–∞–¥–∫–∞ VK Cloud Storage

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):

### 1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã:

```
Playgama Bridge –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
Platform: vk  ‚Üê –í–ê–ñ–ù–û! –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'vk'
–ü—Ä–æ–≤–µ—Ä–∫–∞ VK Bridge: { platformId: 'vk', isVK: true, vkBridgeExists: true }
‚úÖ VK Bridge –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `VK Bridge –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è` - –∑–Ω–∞—á–∏—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∞—Å—å –∫–∞–∫ VK.

### 2. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:

```
loadPlayerData –≤—ã–∑–≤–∞–Ω
VK Bridge —Å—Ç–∞—Ç—É—Å: { vkBridgeExists: true, bridgeExists: true, platformId: 'vk' }
üì• –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ VK Bridge...
VK Bridge storage result: { keys: [...] }
‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –æ–±–ª–∞–∫–∞
```

### 3. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ –º–æ–Ω–µ—Ç—ã):

```
savePlayerData –≤—ã–∑–≤–∞–Ω —Å –¥–∞–Ω–Ω—ã–º–∏: { coins: 350 }
VK Bridge —Å—Ç–∞—Ç—É—Å: { vkBridgeExists: true, bridgeExists: true, platformId: 'vk' }
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ VK Bridge...
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ coins: 350
‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ VK –æ–±–ª–∞–∫–æ
```

### 4. –ü—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è:

```
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ VK Bridge...
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ maxLevel: 2
‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ VK –æ–±–ª–∞–∫–æ
```

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–±–ª–µ–º–∞: VK Bridge –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
VK Bridge –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ VK –∏–ª–∏ bridge –Ω–µ –Ω–∞–π–¥–µ–Ω)
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ —á–µ—Ä–µ–∑ VK (–Ω–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ GitHub Pages)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∫—Ä–∏–ø—Ç VK Bridge –∑–∞–≥—Ä—É–∂–µ–Ω: `console.log(typeof window.vkBridge)`
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `'object'`, –µ—Å–ª–∏ `'undefined'` - —Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ VK –æ–±–ª–∞–∫–æ: [error]
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è VK - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ Storage
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ VK
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
window.vkBridge.send('VKWebAppStorageSet', { key: 'test', value: '123' })
```

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ù–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å (—Å–º. –≤—ã—à–µ)
2. –ù–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏)
3. –†–∞–∑–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã VK (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–æ—à–ª–∏ –ø–æ–¥ –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º)

## –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ VK Storage:

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
await window.vkBridge.send('VKWebAppStorageSet', { key: 'test', value: 'hello' })

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
const result = await window.vkBridge.send('VKWebAppStorageGet', { keys: ['test'] })
console.log(result) // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: { keys: [{ key: 'test', value: 'hello' }] }
```

–ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∑–Ω–∞—á–∏—Ç VK Bridge –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –∏–≥—Ä—ã.
